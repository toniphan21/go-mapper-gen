## Timestamp

Let set up a project which contains some generated code from grpc

```go.mod
go 1.25

module github.com/toniphan21/go-mapper-gen/converters/grpc/example

require github.com/toniphan21/gmg-lib v0.2.0
```

```go.sum
github.com/toniphan21/gmg-lib v0.2.0 h1:MaJMPtFRPVv8DTHhRdr756xaTgsp7sf1TwIYCztFD6w=
github.com/toniphan21/gmg-lib v0.2.0/go.mod h1:BZFmDSo4YijtddTGNCaGQmUFuT6QHn+MnQ0pdYKditE=
google.golang.org/protobuf v1.36.11 h1:fV6ZwhNocDyBLK0dj+fg8ektcVegBBuEolpbTQyBNVE=
google.golang.org/protobuf v1.36.11/go.mod h1:HTf+CrKn2C3g5S8VImy6tdcUvCska2kB7j23XfzDpco=
```

### Convert time.Time using zero value for nil case

In source code we have a struct

```go
// file: code.go

package example

import "time"

type User struct {
	ID        string
	Age       int32
	LastName  string
	FirstName string
	Email     string
	UpdatedAt time.Time
	CreatedAt time.Time
}

```

With minimum configuration:

```pkl
packages {
	["github.com/toniphan21/go-mapper-gen/converters/grpc/example"] {
		source_pkg = "github.com/toniphan21/gmg-lib/gen/go/iam/v1"

		structs {
			["User"] { source_struct_name = "User" }
		}
	}
}
```

the generated code is.

```go
// golden-file: gen_mapper.go
// Code generated by github.com/toniphan21/go-mapper-gen - test, DO NOT EDIT.

package example

import (
	v1 "github.com/toniphan21/gmg-lib/gen/go/iam/v1"
	timestamppb "google.golang.org/protobuf/types/known/timestamppb"
	"time"
)

type iMapper interface {
	// ToUser converts a iamV1.User value into a User value.
	ToUser(in v1.User) User

	// FromUser converts a User value into a iamV1.User value.
	FromUser(in User) v1.User
}

func new_iMapper() iMapper {
	return &iMapperImpl{}
}

type iMapperImpl struct{}

func (m *iMapperImpl) ToUser(in v1.User) User {
	var out User

	out.ID = in.Id
	out.Age = in.Age
	out.LastName = in.LastName
	out.FirstName = in.FirstName
	out.Email = in.Email
	if in.UpdatedAt != nil {
		out.UpdatedAt = in.UpdatedAt.AsTime()
	} else {
		var zero time.Time
		out.UpdatedAt = zero
	}
	if in.CreatedAt != nil {
		out.CreatedAt = in.CreatedAt.AsTime()
	} else {
		var zero time.Time
		out.CreatedAt = zero
	}

	return out
}

func (m *iMapperImpl) FromUser(in User) v1.User {
	var out v1.User

	out.Id = in.ID
	out.FirstName = in.FirstName
	out.LastName = in.LastName
	out.Email = in.Email
	out.Age = in.Age
	out.CreatedAt = timestamppb.New(in.CreatedAt)
	out.UpdatedAt = timestamppb.New(in.UpdatedAt)

	return out
}

var _ iMapper = (*iMapperImpl)(nil)
```

